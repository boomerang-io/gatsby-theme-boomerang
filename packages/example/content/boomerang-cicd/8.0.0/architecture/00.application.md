---
title: Application Architecture
index: 0
---

# Application architecture

The following architecture depicts the components and dependencies that make up the appplication and their relationships.

![Boomerang Infrastructure Architecture](./assets/img/boomerang-cicd-architecture-application.png)

## Components

| Component       | Type           | Technology                         | Internal to Internal                                     | External Ingress | Dependencies                  | Optional Sidecars |
| --------------- | -------------- | ---------------------------------- | -------------------------------------------------------- | ---------------- | ----------------------------- | ----------------- |
| CI              | Front End      | React + Node.js                    | CI MS, Scorecard MS, Insights MS                         | true             | GitHub<sup>®</sup>, GitLab<sup>®</sup> |          |
| Lib             | Front End      | React + Node.js                    | Lib MS                                                   | true             |                               |                   |
| CI              | Microservice   | Spring Boot (Java)                 | UrbanCode MS, SCM MS, Controller MS, Workflows MS        | true             | MongoDB                       | New Relic APM     |
| Webhook         | Microservice   | Spring Boot (Java)                 | CI MS, SCM MS, Ingestion MS                              | true             | MongoDB                       | New Relic APM     |
| Scorecard       | Microservice   | Spring Boot (Java)                 | Repository MS                                            | true             | MongoDB                       | New Relic APM     |
| Ingestion       | Microservice   | Spring Boot (Java)                 | Repository MS                                            | false            | MongoDB                       | New Relic APM     |
| Insights        | Microservice   | Spring Boot (Java)                 | Repository MS                                            | true             | MongoDB                       | New Relic APM     |
| Lib             | Microservice   | Spring Boot (Java) + Embedded SOLR | SCM MS                                                   | true             | MongoDB                       | New Relic APM     |
| UrbanCode       | Microservice   | Spring Boot (Java)                 |                                                          | false            | MongoDB, IBM UrbanCode<sup>®</sup> Deploy | New Relic APM |
| SCM             | Microservice   | Spring Boot (Java)                 |                                                          | false            | MongoDB, GitHub<sup>®</sup>, GitLab<sup>®</sup> | New Relic APM |
| Repository      | Microservice   | Spring Boot (Java)                 |                                                          | false            | MongoDB, JFrog Artifactory<sup>®</sup>, JFrog Xray, Sonarqube | New Relic APM |

_Notes:_

1. Optional sidecars are what is known at the Application layer. This does not include any DaemonSets defined at the Infrastructure or Orchestrator layer.
2. Executors are a concept that allow CI to be extended to work with multiple different orchestration tools to executor the build, test, and deploy activities. There are now two such executors: IBM UrbanCode Deploy, and Boomerang Flow.

### Workflows

For the Workflow and Executor functionality, Boomerang CICD relies on the Open Source Boomerang Flow project. This is using the embedded experience through feature flags and overrides.

Please visit the [Boomerang Flow application architecture](https://www.useboomerang.io/docs/boomerang-flow/architecture/application-architecture) to understand more.

1. The workers have implemented, and are bound to, specific RBAC privileges in Kubernetes.
2. The worker has additional integrations to additional external tools and can execute custom code.

### Policies

For the policy functionality, CICD relies on the Open Source Boomerang Bosun project. This can be enabled at installation time in the Helm<sup>®</sup> chart.

| Component | Type | Technology | Internal to Internal | External Ingress | Internal Dependency | External Dependency | Optional Sidecars |
| --- | --- | --- | --- | --- | --- | --- | --- |
| Bosun | Front End | React + Node.js | Bosun MS | true | | | |
| Policy | Microservice | Spring Boot (Java) | Repository MS | true | MongoDB, OpenPolicyAgent | | New Relic APM |
| Repository | Microservice | Spring Boot (Java) | | false | SonarQube, JFrog XRay | | New Relic APM |
| OpenPolicyAgent | Middleware | Go | | false | | | |

_Notes:_

1. Optional sidecars are what is known at the application layer. This does not include any DaemonSets defined at the Infrastructure and Orchestrator layer.
2. Repository microservice is not required to be integrated to the dependencies. This is required only if you used the predefined integrations, as opposed to passing in an already retrieved payload.
3. [OpenPolicyAgent](https://openpolicyagent.org/) is a third-party open source component that Bosun wraps.

## Dependencies

**Artifact Repository dependencies:**

| Dependency       | Implementation    | Version |
| ---------------- | ----------------- | ------- |
| Artifact Storage | JFrog Artifactory | 6.17.0  |

**Dependencies for UrbanCode Executor**

| Dependency | Implementation       | Version |
| ---------- | -------------------- | ------- |
| Automation | IBM UrbanCode Deploy | 7.0.1.2 |

**Dependencies for mobile CI**

| Dependency       | Implementation    | Version |
| ---------------- | ----------------- | ------- |
| Mac OSX Hardware | iMac<sup>®</sup>, Mac mini<sup>®</sup> |         |

**Integrations to enable functionality**

| Dependency         | Implementation               | Version | Description                                                             |
| ------------------ | ---------------------------- | ------- | ----------------------------------------------------------------------- |
| Package Scanning   | JFrog Xray<sup>®</sup>                   | 2.11.7  | For Scorecard, Citdal Package Whitelist and Xray Vulnerabilities        |
| Static Analysis    | SonarQube                    | 7.9.2   | For Scorecard static code analysis results                              |
| Security Scanning  | ASoC, Contrast, Data Theorem |         | For security testing results in Scorecard and Citadal Policy Validation |
| Functional Testing | Sauce Labs                   |         | For functional testing                                                  |

**Platform dependencies**

The following IBM Services Essentials platform-wide dependencies are required to run Boomerang CICD.

| Dependency | Implementation | Version | Notes |
| --- | --- | --- | --- |
| Core services | IBM Services Essentials Core | 7.5.0+ | There are the common services that Boomerang CICD leverages for Authentication, Authorization, Audit, Messaging, etc |
| Kubernetes<sup>®</sup> | <ul><lI>IBM Cloud<sup>®</sup> Private (3.2.1+)</li><li>Red Hat<sup>®</sup> OpenShift<sup>®</sup> Container Platform (4.2+)</li><li>IBM Cloud Kubernetes Service</li><li>IBM Cloud Red Hat OpenShift Kubernetes Services</li><li>Microsoft Azure Kubernetes Service</li></ul> | 1.13.9+ | |
| Application Load Balancer | NGINX                                                                     | 0.23.0  | |
| Certificate Manager       | Jetstack Cert Manager                                                     | 0.7.0   | Optional, an SSL certificate can be manually created and supplied. |
| Logs                      | Elasticsearch<sup>®</sup> 5.5.1+ or Loki 1.6.0+                                                             |   | Optional, you can configure to retrieve logs from Kubernetes directly. |
| Monitoring                | New Relic<sup>®</sup> Infrastructure, New Relic Kubernetes<sup>®</sup>, New Relic APM Agent       | 4.10.0  | _if enabled_ |
| Tracing                   | Jaeger                                                                    |         | _if enabled_ |
