---
title: Custom Mail Events
index: 9
---

# Custom Mail Events

Custom mail events can be sent to a user with the following call:

```
POST /messaging/mail/event
```

> **Note**: The `email_user_custom` event is for internal IBM Services Essentials use only. It cannot be used in the public domain.

The email_user_custom event is made as a CloudEvent payload with the following elements:

| Name | Schema | Definition|
| --- | --- | --- |
| `userId` <br> _userId or userEmail is required_ | string | ID in the database for the user recipient of the mail |
| `userEmail` <br> _userEmail or userId is required_ | string | The user's email address 
| `teamId` <br> | string | ID of the team in the database that the user belongs to
| `subject` <br> | string | `subject for sending a custom email|
| `custom` <br> | string | `add a custom body content for the email email. The contents of this field will override the custom section of the mail template|
| `event` <br> | string | `email_user_custom`  event for sending a custom email|
| `type` <br> | string | `com.ibm.essentials.core.event.mail`  type for sending a custom email|


## Sample Code

Example CloudEvent payload:

```
{
    "specversion": "1.0",
    "id": "e480a77d-0c93-43dd-b762-9653e77ec1af",
    "source": "/uri",
    "type": "com.ibm.essentials.core.event.mail",
    "datacontenttype": "application/cloudevents+json",
    "subject": "email_user_custom",
    "time": "2021-01-27T15:50:02.325796-06:00",
    "data_base64": "eyJpbnB1dHMiOnsidXNlcklkIjoiIiwidXNlckVtYWlsIjoiIiwidGVhbUlkIjoiIiwic3ViamVjdCI6IiIsImN1c3RvbSI6IiJ9fQ=="
}
```

The data of the CloudEvent payload is base64 encoded. 

Example decoded data:

```
{
   "inputs":{
      "userId":"",
      "userEmail":"",
      "teamId":"",
      "subject":"",
      "custom":""
   }
}